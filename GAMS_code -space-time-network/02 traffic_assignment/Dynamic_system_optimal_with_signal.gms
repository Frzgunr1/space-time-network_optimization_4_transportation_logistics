$title Flight optimization Problem
*LIMROW = 0, LIMCOL = 0
OPTIONS  ITERLIM=100000, RESLIM = 1000000, SYSOUT = OFF, SOLPRINT = OFF, lp = COINGLPK, mip = COINGLPK, OPTCR= 0.1;

set f vehicles /1*3/;
set i nodes /1*5/;
set t time stamp /1*200/;
set m movement index/1*2/;

alias (i, j);
alias (t, s, t_e, t_l,tau,t_s);
alias (m, mp);

parameter value_t(t)/
1  1
2  2
3  3
/;



parameter arcs(i,j,t_e,t_l) link travel time /
1. 5. 1. 35 34
1. 5. 2. 36 34
1. 5. 3. 37 34
1. 5. 4. 38 34
1. 5. 5. 39 34
1. 5. 6. 40 34
1. 5. 7. 41 34
1. 5. 8. 42 34
1. 5. 9. 43 34
1. 5. 10. 44 34
1. 5. 11. 45 34
1. 5. 12. 46 34
1. 5. 13. 47 34
1. 5. 14. 48 34
1. 5. 15. 49 34
1. 5. 16. 50 34
1. 5. 17. 51 34
1. 5. 18. 52 34
1. 5. 19. 53 34
1. 5. 20. 54 34
1. 5. 21. 55 34
1. 5. 22. 56 34
1. 5. 23. 57 34
1. 5. 24. 58 34
1. 5. 25. 59 34
1. 5. 26. 60 34
1. 5. 27. 61 34
1. 5. 28. 62 34
1. 5. 29. 63 34
1. 5. 30. 64 34
1. 5. 31. 65 34
1. 5. 32. 66 34
1. 5. 33. 67 34
1. 5. 34. 68 34
1. 5. 35. 69 34
1. 5. 36. 70 34
1. 5. 37. 71 34
1. 5. 38. 72 34
1. 5. 39. 73 34
1. 5. 40. 74 34
1. 5. 41. 75 34
1. 5. 42. 76 34
1. 5. 43. 77 34
1. 5. 44. 78 34
1. 5. 45. 79 34
1. 5. 46. 80 34
1. 5. 47. 81 34
1. 5. 48. 82 34
1. 5. 49. 83 34
1. 5. 50. 84 34
1. 5. 51. 85 34
1. 5. 52. 86 34
1. 5. 53. 87 34
1. 5. 54. 88 34
1. 5. 55. 89 34
1. 5. 56. 90 34
1. 5. 57. 91 34
1. 5. 58. 92 34
1. 5. 59. 93 34
1. 5. 60. 94 34
1. 5. 61. 95 34
1. 5. 62. 96 34
1. 5. 63. 97 34
1. 5. 64. 98 34
1. 5. 65. 99 34
1. 5. 66. 100 34
1. 5. 67. 101 34
1. 5. 68. 102 34
1. 5. 69. 103 34
1. 5. 70. 104 34
1. 5. 71. 105 34
1. 5. 72. 106 34
1. 5. 73. 107 34
1. 5. 74. 108 34
1. 5. 75. 109 34
1. 5. 76. 110 34
1. 5. 77. 111 34
1. 5. 78. 112 34
1. 5. 79. 113 34
1. 5. 80. 114 34
1. 5. 81. 115 34
1. 5. 82. 116 34
1. 5. 83. 117 34
1. 5. 84. 118 34
1. 5. 85. 119 34
1. 5. 86. 120 34
1. 5. 87. 121 34
1. 5. 88. 122 34
1. 5. 89. 123 34
1. 5. 90. 124 34
1. 5. 91. 125 34
1. 5. 92. 126 34
1. 5. 93. 127 34
1. 5. 94. 128 34
1. 5. 95. 129 34
1. 5. 96. 130 34
1. 5. 97. 131 34
1. 5. 98. 132 34
1. 5. 99. 133 34
1. 5. 100. 134 34
1. 5. 101. 135 34
1. 5. 102. 136 34
1. 5. 103. 137 34
1. 5. 104. 138 34
1. 5. 105. 139 34
1. 5. 106. 140 34
1. 5. 107. 141 34
1. 5. 108. 142 34
1. 5. 109. 143 34
1. 5. 110. 144 34
1. 5. 111. 145 34
1. 5. 112. 146 34
1. 5. 113. 147 34
1. 5. 114. 148 34
1. 5. 115. 149 34
1. 5. 116. 150 34
1. 5. 117. 151 34
1. 5. 118. 152 34
1. 5. 119. 153 34
5. 1. 1. 2 1
5. 1. 2. 3 1
5. 1. 3. 4 1
5. 1. 4. 5 1
5. 1. 5. 6 1
5. 1. 6. 7 1
5. 1. 7. 8 1
5. 1. 8. 9 1
5. 1. 9. 10 1
5. 1. 10. 11 1
5. 1. 11. 12 1
5. 1. 12. 13 1
5. 1. 13. 14 1
5. 1. 14. 15 1
5. 1. 15. 16 1
5. 1. 16. 17 1
5. 1. 17. 18 1
5. 1. 18. 19 1
5. 1. 19. 20 1
5. 1. 20. 21 1
5. 1. 21. 22 1
5. 1. 22. 23 1
5. 1. 23. 24 1
5. 1. 24. 25 1
5. 1. 25. 26 1
5. 1. 26. 27 1
5. 1. 27. 28 1
5. 1. 28. 29 1
5. 1. 29. 30 1
5. 1. 30. 31 1
5. 1. 31. 32 1
5. 1. 32. 33 1
5. 1. 33. 34 1
5. 1. 34. 35 1
5. 1. 35. 36 1
5. 1. 36. 37 1
5. 1. 37. 38 1
5. 1. 38. 39 1
5. 1. 39. 40 1
5. 1. 40. 41 1
5. 1. 41. 42 1
5. 1. 42. 43 1
5. 1. 43. 44 1
5. 1. 44. 45 1
5. 1. 45. 46 1
5. 1. 46. 47 1
5. 1. 47. 48 1
5. 1. 48. 49 1
5. 1. 49. 50 1
5. 1. 50. 51 1
5. 1. 51. 52 1
5. 1. 52. 53 1
5. 1. 53. 54 1
5. 1. 54. 55 1
5. 1. 55. 56 1
5. 1. 56. 57 1
5. 1. 57. 58 1
5. 1. 58. 59 1
5. 1. 59. 60 1
5. 1. 60. 61 1
5. 1. 61. 62 1
5. 1. 62. 63 1
5. 1. 63. 64 1
5. 1. 64. 65 1
5. 1. 65. 66 1
5. 1. 66. 67 1
5. 1. 67. 68 1
5. 1. 68. 69 1
5. 1. 69. 70 1
5. 1. 70. 71 1
5. 1. 71. 72 1
5. 1. 72. 73 1
5. 1. 73. 74 1
5. 1. 74. 75 1
5. 1. 75. 76 1
5. 1. 76. 77 1
5. 1. 77. 78 1
5. 1. 78. 79 1
5. 1. 79. 80 1
5. 1. 80. 81 1
5. 1. 81. 82 1
5. 1. 82. 83 1
5. 1. 83. 84 1
5. 1. 84. 85 1
5. 1. 85. 86 1
5. 1. 86. 87 1
5. 1. 87. 88 1
5. 1. 88. 89 1
5. 1. 89. 90 1
5. 1. 90. 91 1
5. 1. 91. 92 1
5. 1. 92. 93 1
5. 1. 93. 94 1
5. 1. 94. 95 1
5. 1. 95. 96 1
5. 1. 96. 97 1
5. 1. 97. 98 1
5. 1. 98. 99 1
5. 1. 99. 100 1
5. 1. 100. 101 1
5. 1. 101. 102 1
5. 1. 102. 103 1
5. 1. 103. 104 1
5. 1. 104. 105 1
5. 1. 105. 106 1
5. 1. 106. 107 1
5. 1. 107. 108 1
5. 1. 108. 109 1
5. 1. 109. 110 1
5. 1. 110. 111 1
5. 1. 111. 112 1
5. 1. 112. 113 1
5. 1. 113. 114 1
5. 1. 114. 115 1
5. 1. 115. 116 1
5. 1. 116. 117 1
5. 1. 117. 118 1
5. 1. 118. 119 1
5. 1. 119. 120 1
3. 5. 1. 2 1
3. 5. 2. 3 1
3. 5. 3. 4 1
3. 5. 4. 5 1
3. 5. 5. 6 1
3. 5. 6. 7 1
3. 5. 7. 8 1
3. 5. 8. 9 1
3. 5. 9. 10 1
3. 5. 10. 11 1
3. 5. 11. 12 1
3. 5. 12. 13 1
3. 5. 13. 14 1
3. 5. 14. 15 1
3. 5. 15. 16 1
3. 5. 16. 17 1
3. 5. 17. 18 1
3. 5. 18. 19 1
3. 5. 19. 20 1
3. 5. 20. 21 1
3. 5. 21. 22 1
3. 5. 22. 23 1
3. 5. 23. 24 1
3. 5. 24. 25 1
3. 5. 25. 26 1
3. 5. 26. 27 1
3. 5. 27. 28 1
3. 5. 28. 29 1
3. 5. 29. 30 1
3. 5. 30. 31 1
3. 5. 31. 32 1
3. 5. 32. 33 1
3. 5. 33. 34 1
3. 5. 34. 35 1
3. 5. 35. 36 1
3. 5. 36. 37 1
3. 5. 37. 38 1
3. 5. 38. 39 1
3. 5. 39. 40 1
3. 5. 40. 41 1
3. 5. 41. 42 1
3. 5. 42. 43 1
3. 5. 43. 44 1
3. 5. 44. 45 1
3. 5. 45. 46 1
3. 5. 46. 47 1
3. 5. 47. 48 1
3. 5. 48. 49 1
3. 5. 49. 50 1
3. 5. 50. 51 1
3. 5. 51. 52 1
3. 5. 52. 53 1
3. 5. 53. 54 1
3. 5. 54. 55 1
3. 5. 55. 56 1
3. 5. 56. 57 1
3. 5. 57. 58 1
3. 5. 58. 59 1
3. 5. 59. 60 1
3. 5. 60. 61 1
3. 5. 61. 62 1
3. 5. 62. 63 1
3. 5. 63. 64 1
3. 5. 64. 65 1
3. 5. 65. 66 1
3. 5. 66. 67 1
3. 5. 67. 68 1
3. 5. 68. 69 1
3. 5. 69. 70 1
3. 5. 70. 71 1
3. 5. 71. 72 1
3. 5. 72. 73 1
3. 5. 73. 74 1
3. 5. 74. 75 1
3. 5. 75. 76 1
3. 5. 76. 77 1
3. 5. 77. 78 1
3. 5. 78. 79 1
3. 5. 79. 80 1
3. 5. 80. 81 1
3. 5. 81. 82 1
3. 5. 82. 83 1
3. 5. 83. 84 1
3. 5. 84. 85 1
3. 5. 85. 86 1
3. 5. 86. 87 1
3. 5. 87. 88 1
3. 5. 88. 89 1
3. 5. 89. 90 1
3. 5. 90. 91 1
3. 5. 91. 92 1
3. 5. 92. 93 1
3. 5. 93. 94 1
3. 5. 94. 95 1
3. 5. 95. 96 1
3. 5. 96. 97 1
3. 5. 97. 98 1
3. 5. 98. 99 1
3. 5. 99. 100 1
3. 5. 100. 101 1
3. 5. 101. 102 1
3. 5. 102. 103 1
3. 5. 103. 104 1
3. 5. 104. 105 1
3. 5. 105. 106 1
3. 5. 106. 107 1
3. 5. 107. 108 1
3. 5. 108. 109 1
3. 5. 109. 110 1
3. 5. 110. 111 1
3. 5. 111. 112 1
3. 5. 112. 113 1
3. 5. 113. 114 1
3. 5. 114. 115 1
3. 5. 115. 116 1
3. 5. 116. 117 1
3. 5. 117. 118 1
3. 5. 118. 119 1
3. 5. 119. 120 1
5. 3. 1. 2 1
5. 3. 2. 3 1
5. 3. 3. 4 1
5. 3. 4. 5 1
5. 3. 5. 6 1
5. 3. 6. 7 1
5. 3. 7. 8 1
5. 3. 8. 9 1
5. 3. 9. 10 1
5. 3. 10. 11 1
5. 3. 11. 12 1
5. 3. 12. 13 1
5. 3. 13. 14 1
5. 3. 14. 15 1
5. 3. 15. 16 1
5. 3. 16. 17 1
5. 3. 17. 18 1
5. 3. 18. 19 1
5. 3. 19. 20 1
5. 3. 20. 21 1
5. 3. 21. 22 1
5. 3. 22. 23 1
5. 3. 23. 24 1
5. 3. 24. 25 1
5. 3. 25. 26 1
5. 3. 26. 27 1
5. 3. 27. 28 1
5. 3. 28. 29 1
5. 3. 29. 30 1
5. 3. 30. 31 1
5. 3. 31. 32 1
5. 3. 32. 33 1
5. 3. 33. 34 1
5. 3. 34. 35 1
5. 3. 35. 36 1
5. 3. 36. 37 1
5. 3. 37. 38 1
5. 3. 38. 39 1
5. 3. 39. 40 1
5. 3. 40. 41 1
5. 3. 41. 42 1
5. 3. 42. 43 1
5. 3. 43. 44 1
5. 3. 44. 45 1
5. 3. 45. 46 1
5. 3. 46. 47 1
5. 3. 47. 48 1
5. 3. 48. 49 1
5. 3. 49. 50 1
5. 3. 50. 51 1
5. 3. 51. 52 1
5. 3. 52. 53 1
5. 3. 53. 54 1
5. 3. 54. 55 1
5. 3. 55. 56 1
5. 3. 56. 57 1
5. 3. 57. 58 1
5. 3. 58. 59 1
5. 3. 59. 60 1
5. 3. 60. 61 1
5. 3. 61. 62 1
5. 3. 62. 63 1
5. 3. 63. 64 1
5. 3. 64. 65 1
5. 3. 65. 66 1
5. 3. 66. 67 1
5. 3. 67. 68 1
5. 3. 68. 69 1
5. 3. 69. 70 1
5. 3. 70. 71 1
5. 3. 71. 72 1
5. 3. 72. 73 1
5. 3. 73. 74 1
5. 3. 74. 75 1
5. 3. 75. 76 1
5. 3. 76. 77 1
5. 3. 77. 78 1
5. 3. 78. 79 1
5. 3. 79. 80 1
5. 3. 80. 81 1
5. 3. 81. 82 1
5. 3. 82. 83 1
5. 3. 83. 84 1
5. 3. 84. 85 1
5. 3. 85. 86 1
5. 3. 86. 87 1
5. 3. 87. 88 1
5. 3. 88. 89 1
5. 3. 89. 90 1
5. 3. 90. 91 1
5. 3. 91. 92 1
5. 3. 92. 93 1
5. 3. 93. 94 1
5. 3. 94. 95 1
5. 3. 95. 96 1
5. 3. 96. 97 1
5. 3. 97. 98 1
5. 3. 98. 99 1
5. 3. 99. 100 1
5. 3. 100. 101 1
5. 3. 101. 102 1
5. 3. 102. 103 1
5. 3. 103. 104 1
5. 3. 104. 105 1
5. 3. 105. 106 1
5. 3. 106. 107 1
5. 3. 107. 108 1
5. 3. 108. 109 1
5. 3. 109. 110 1
5. 3. 110. 111 1
5. 3. 111. 112 1
5. 3. 112. 113 1
5. 3. 113. 114 1
5. 3. 114. 115 1
5. 3. 115. 116 1
5. 3. 116. 117 1
5. 3. 117. 118 1
5. 3. 118. 119 1
5. 3. 119. 120 1
4. 5. 1. 2 1
4. 5. 2. 3 1
4. 5. 3. 4 1
4. 5. 4. 5 1
4. 5. 5. 6 1
4. 5. 6. 7 1
4. 5. 7. 8 1
4. 5. 8. 9 1
4. 5. 9. 10 1
4. 5. 10. 11 1
4. 5. 11. 12 1
4. 5. 12. 13 1
4. 5. 13. 14 1
4. 5. 14. 15 1
4. 5. 15. 16 1
4. 5. 16. 17 1
4. 5. 17. 18 1
4. 5. 18. 19 1
4. 5. 19. 20 1
4. 5. 20. 21 1
4. 5. 21. 22 1
4. 5. 22. 23 1
4. 5. 23. 24 1
4. 5. 24. 25 1
4. 5. 25. 26 1
4. 5. 26. 27 1
4. 5. 27. 28 1
4. 5. 28. 29 1
4. 5. 29. 30 1
4. 5. 30. 31 1
4. 5. 31. 32 1
4. 5. 32. 33 1
4. 5. 33. 34 1
4. 5. 34. 35 1
4. 5. 35. 36 1
4. 5. 36. 37 1
4. 5. 37. 38 1
4. 5. 38. 39 1
4. 5. 39. 40 1
4. 5. 40. 41 1
4. 5. 41. 42 1
4. 5. 42. 43 1
4. 5. 43. 44 1
4. 5. 44. 45 1
4. 5. 45. 46 1
4. 5. 46. 47 1
4. 5. 47. 48 1
4. 5. 48. 49 1
4. 5. 49. 50 1
4. 5. 50. 51 1
4. 5. 51. 52 1
4. 5. 52. 53 1
4. 5. 53. 54 1
4. 5. 54. 55 1
4. 5. 55. 56 1
4. 5. 56. 57 1
4. 5. 57. 58 1
4. 5. 58. 59 1
4. 5. 59. 60 1
4. 5. 60. 61 1
4. 5. 61. 62 1
4. 5. 62. 63 1
4. 5. 63. 64 1
4. 5. 64. 65 1
4. 5. 65. 66 1
4. 5. 66. 67 1
4. 5. 67. 68 1
4. 5. 68. 69 1
4. 5. 69. 70 1
4. 5. 70. 71 1
4. 5. 71. 72 1
4. 5. 72. 73 1
4. 5. 73. 74 1
4. 5. 74. 75 1
4. 5. 75. 76 1
4. 5. 76. 77 1
4. 5. 77. 78 1
4. 5. 78. 79 1
4. 5. 79. 80 1
4. 5. 80. 81 1
4. 5. 81. 82 1
4. 5. 82. 83 1
4. 5. 83. 84 1
4. 5. 84. 85 1
4. 5. 85. 86 1
4. 5. 86. 87 1
4. 5. 87. 88 1
4. 5. 88. 89 1
4. 5. 89. 90 1
4. 5. 90. 91 1
4. 5. 91. 92 1
4. 5. 92. 93 1
4. 5. 93. 94 1
4. 5. 94. 95 1
4. 5. 95. 96 1
4. 5. 96. 97 1
4. 5. 97. 98 1
4. 5. 98. 99 1
4. 5. 99. 100 1
4. 5. 100. 101 1
4. 5. 101. 102 1
4. 5. 102. 103 1
4. 5. 103. 104 1
4. 5. 104. 105 1
4. 5. 105. 106 1
4. 5. 106. 107 1
4. 5. 107. 108 1
4. 5. 108. 109 1
4. 5. 109. 110 1
4. 5. 110. 111 1
4. 5. 111. 112 1
4. 5. 112. 113 1
4. 5. 113. 114 1
4. 5. 114. 115 1
4. 5. 115. 116 1
4. 5. 116. 117 1
4. 5. 117. 118 1
4. 5. 118. 119 1
4. 5. 119. 120 1
5. 4. 1. 2 1
5. 4. 2. 3 1
5. 4. 3. 4 1
5. 4. 4. 5 1
5. 4. 5. 6 1
5. 4. 6. 7 1
5. 4. 7. 8 1
5. 4. 8. 9 1
5. 4. 9. 10 1
5. 4. 10. 11 1
5. 4. 11. 12 1
5. 4. 12. 13 1
5. 4. 13. 14 1
5. 4. 14. 15 1
5. 4. 15. 16 1
5. 4. 16. 17 1
5. 4. 17. 18 1
5. 4. 18. 19 1
5. 4. 19. 20 1
5. 4. 20. 21 1
5. 4. 21. 22 1
5. 4. 22. 23 1
5. 4. 23. 24 1
5. 4. 24. 25 1
5. 4. 25. 26 1
5. 4. 26. 27 1
5. 4. 27. 28 1
5. 4. 28. 29 1
5. 4. 29. 30 1
5. 4. 30. 31 1
5. 4. 31. 32 1
5. 4. 32. 33 1
5. 4. 33. 34 1
5. 4. 34. 35 1
5. 4. 35. 36 1
5. 4. 36. 37 1
5. 4. 37. 38 1
5. 4. 38. 39 1
5. 4. 39. 40 1
5. 4. 40. 41 1
5. 4. 41. 42 1
5. 4. 42. 43 1
5. 4. 43. 44 1
5. 4. 44. 45 1
5. 4. 45. 46 1
5. 4. 46. 47 1
5. 4. 47. 48 1
5. 4. 48. 49 1
5. 4. 49. 50 1
5. 4. 50. 51 1
5. 4. 51. 52 1
5. 4. 52. 53 1
5. 4. 53. 54 1
5. 4. 54. 55 1
5. 4. 55. 56 1
5. 4. 56. 57 1
5. 4. 57. 58 1
5. 4. 58. 59 1
5. 4. 59. 60 1
5. 4. 60. 61 1
5. 4. 61. 62 1
5. 4. 62. 63 1
5. 4. 63. 64 1
5. 4. 64. 65 1
5. 4. 65. 66 1
5. 4. 66. 67 1
5. 4. 67. 68 1
5. 4. 68. 69 1
5. 4. 69. 70 1
5. 4. 70. 71 1
5. 4. 71. 72 1
5. 4. 72. 73 1
5. 4. 73. 74 1
5. 4. 74. 75 1
5. 4. 75. 76 1
5. 4. 76. 77 1
5. 4. 77. 78 1
5. 4. 78. 79 1
5. 4. 79. 80 1
5. 4. 80. 81 1
5. 4. 81. 82 1
5. 4. 82. 83 1
5. 4. 83. 84 1
5. 4. 84. 85 1
5. 4. 85. 86 1
5. 4. 86. 87 1
5. 4. 87. 88 1
5. 4. 88. 89 1
5. 4. 89. 90 1
5. 4. 90. 91 1
5. 4. 91. 92 1
5. 4. 92. 93 1
5. 4. 93. 94 1
5. 4. 94. 95 1
5. 4. 95. 96 1
5. 4. 96. 97 1
5. 4. 97. 98 1
5. 4. 98. 99 1
5. 4. 99. 100 1
5. 4. 100. 101 1
5. 4. 101. 102 1
5. 4. 102. 103 1
5. 4. 103. 104 1
5. 4. 104. 105 1
5. 4. 105. 106 1
5. 4. 106. 107 1
5. 4. 107. 108 1
5. 4. 108. 109 1
5. 4. 109. 110 1
5. 4. 110. 111 1
5. 4. 111. 112 1
5. 4. 112. 113 1
5. 4. 113. 114 1
5. 4. 114. 115 1
5. 4. 115. 116 1
5. 4. 116. 117 1
5. 4. 117. 118 1
5. 4. 118. 119 1
5. 4. 119. 120 1
2. 5. 1. 2 1
2. 5. 2. 3 1
2. 5. 3. 4 1
2. 5. 4. 5 1
2. 5. 5. 6 1
2. 5. 6. 7 1
2. 5. 7. 8 1
2. 5. 8. 9 1
2. 5. 9. 10 1
2. 5. 10. 11 1
2. 5. 11. 12 1
2. 5. 12. 13 1
2. 5. 13. 14 1
2. 5. 14. 15 1
2. 5. 15. 16 1
2. 5. 16. 17 1
2. 5. 17. 18 1
2. 5. 18. 19 1
2. 5. 19. 20 1
2. 5. 20. 21 1
2. 5. 21. 22 1
2. 5. 22. 23 1
2. 5. 23. 24 1
2. 5. 24. 25 1
2. 5. 25. 26 1
2. 5. 26. 27 1
2. 5. 27. 28 1
2. 5. 28. 29 1
2. 5. 29. 30 1
2. 5. 30. 31 1
2. 5. 31. 32 1
2. 5. 32. 33 1
2. 5. 33. 34 1
2. 5. 34. 35 1
2. 5. 35. 36 1
2. 5. 36. 37 1
2. 5. 37. 38 1
2. 5. 38. 39 1
2. 5. 39. 40 1
2. 5. 40. 41 1
2. 5. 41. 42 1
2. 5. 42. 43 1
2. 5. 43. 44 1
2. 5. 44. 45 1
2. 5. 45. 46 1
2. 5. 46. 47 1
2. 5. 47. 48 1
2. 5. 48. 49 1
2. 5. 49. 50 1
2. 5. 50. 51 1
2. 5. 51. 52 1
2. 5. 52. 53 1
2. 5. 53. 54 1
2. 5. 54. 55 1
2. 5. 55. 56 1
2. 5. 56. 57 1
2. 5. 57. 58 1
2. 5. 58. 59 1
2. 5. 59. 60 1
2. 5. 60. 61 1
2. 5. 61. 62 1
2. 5. 62. 63 1
2. 5. 63. 64 1
2. 5. 64. 65 1
2. 5. 65. 66 1
2. 5. 66. 67 1
2. 5. 67. 68 1
2. 5. 68. 69 1
2. 5. 69. 70 1
2. 5. 70. 71 1
2. 5. 71. 72 1
2. 5. 72. 73 1
2. 5. 73. 74 1
2. 5. 74. 75 1
2. 5. 75. 76 1
2. 5. 76. 77 1
2. 5. 77. 78 1
2. 5. 78. 79 1
2. 5. 79. 80 1
2. 5. 80. 81 1
2. 5. 81. 82 1
2. 5. 82. 83 1
2. 5. 83. 84 1
2. 5. 84. 85 1
2. 5. 85. 86 1
2. 5. 86. 87 1
2. 5. 87. 88 1
2. 5. 88. 89 1
2. 5. 89. 90 1
2. 5. 90. 91 1
2. 5. 91. 92 1
2. 5. 92. 93 1
2. 5. 93. 94 1
2. 5. 94. 95 1
2. 5. 95. 96 1
2. 5. 96. 97 1
2. 5. 97. 98 1
2. 5. 98. 99 1
2. 5. 99. 100 1
2. 5. 100. 101 1
2. 5. 101. 102 1
2. 5. 102. 103 1
2. 5. 103. 104 1
2. 5. 104. 105 1
2. 5. 105. 106 1
2. 5. 106. 107 1
2. 5. 107. 108 1
2. 5. 108. 109 1
2. 5. 109. 110 1
2. 5. 110. 111 1
2. 5. 111. 112 1
2. 5. 112. 113 1
2. 5. 113. 114 1
2. 5. 114. 115 1
2. 5. 115. 116 1
2. 5. 116. 117 1
2. 5. 117. 118 1
2. 5. 118. 119 1
2. 5. 119. 120 1
5. 2. 1. 2 1
5. 2. 2. 3 1
5. 2. 3. 4 1
5. 2. 4. 5 1
5. 2. 5. 6 1
5. 2. 6. 7 1
5. 2. 7. 8 1
5. 2. 8. 9 1
5. 2. 9. 10 1
5. 2. 10. 11 1
5. 2. 11. 12 1
5. 2. 12. 13 1
5. 2. 13. 14 1
5. 2. 14. 15 1
5. 2. 15. 16 1
5. 2. 16. 17 1
5. 2. 17. 18 1
5. 2. 18. 19 1
5. 2. 19. 20 1
5. 2. 20. 21 1
5. 2. 21. 22 1
5. 2. 22. 23 1
5. 2. 23. 24 1
5. 2. 24. 25 1
5. 2. 25. 26 1
5. 2. 26. 27 1
5. 2. 27. 28 1
5. 2. 28. 29 1
5. 2. 29. 30 1
5. 2. 30. 31 1
5. 2. 31. 32 1
5. 2. 32. 33 1
5. 2. 33. 34 1
5. 2. 34. 35 1
5. 2. 35. 36 1
5. 2. 36. 37 1
5. 2. 37. 38 1
5. 2. 38. 39 1
5. 2. 39. 40 1
5. 2. 40. 41 1
5. 2. 41. 42 1
5. 2. 42. 43 1
5. 2. 43. 44 1
5. 2. 44. 45 1
5. 2. 45. 46 1
5. 2. 46. 47 1
5. 2. 47. 48 1
5. 2. 48. 49 1
5. 2. 49. 50 1
5. 2. 50. 51 1
5. 2. 51. 52 1
5. 2. 52. 53 1
5. 2. 53. 54 1
5. 2. 54. 55 1
5. 2. 55. 56 1
5. 2. 56. 57 1
5. 2. 57. 58 1
5. 2. 58. 59 1
5. 2. 59. 60 1
5. 2. 60. 61 1
5. 2. 61. 62 1
5. 2. 62. 63 1
5. 2. 63. 64 1
5. 2. 64. 65 1
5. 2. 65. 66 1
5. 2. 66. 67 1
5. 2. 67. 68 1
5. 2. 68. 69 1
5. 2. 69. 70 1
5. 2. 70. 71 1
5. 2. 71. 72 1
5. 2. 72. 73 1
5. 2. 73. 74 1
5. 2. 74. 75 1
5. 2. 75. 76 1
5. 2. 76. 77 1
5. 2. 77. 78 1
5. 2. 78. 79 1
5. 2. 79. 80 1
5. 2. 80. 81 1
5. 2. 81. 82 1
5. 2. 82. 83 1
5. 2. 83. 84 1
5. 2. 84. 85 1
5. 2. 85. 86 1
5. 2. 86. 87 1
5. 2. 87. 88 1
5. 2. 88. 89 1
5. 2. 89. 90 1
5. 2. 90. 91 1
5. 2. 91. 92 1
5. 2. 92. 93 1
5. 2. 93. 94 1
5. 2. 94. 95 1
5. 2. 95. 96 1
5. 2. 96. 97 1
5. 2. 97. 98 1
5. 2. 98. 99 1
5. 2. 99. 100 1
5. 2. 100. 101 1
5. 2. 101. 102 1
5. 2. 102. 103 1
5. 2. 103. 104 1
5. 2. 104. 105 1
5. 2. 105. 106 1
5. 2. 106. 107 1
5. 2. 107. 108 1
5. 2. 108. 109 1
5. 2. 109. 110 1
5. 2. 110. 111 1
5. 2. 111. 112 1
5. 2. 112. 113 1
5. 2. 113. 114 1
5. 2. 114. 115 1
5. 2. 115. 116 1
5. 2. 116. 117 1
5. 2. 117. 118 1
5. 2. 118. 119 1
5. 2. 119. 120 1
/;

* add ground holding waiting arcs
arcs('1','1', t,t+1) = 1/30;
arcs('2','2', t,t+1) = 1/30;
arcs('3','4', t,t+1) = 1/30;
arcs('3','4', t,t+1) = 1/30;

parameter cost(i,j,t_e,t_l);
cost(i,j,t_e,t_l) = arcs(i,j,t_e,t_l);
cost(i,i, t,t+1) = 0;
cost('1','1', t,t+1) = 10;

*cost('1','1', t,t+1) = 5;
*cost('2','2', t,t+1) = 5;

*origin('1','1','1')=1;

parameter origin(f,i,t)  origin nodes and departure time/
1        .        1        .        1        1
2        .        2        .        1        1
3        .        3        .        1        1
/;

parameter destination_node(f,i,t);
destination_node('1','2','120') = 1;
destination_node('2','1','120') = 1;
destination_node('3','4','120') = 1;

parameter Y(i,j,t,s)  link capacity;
Y(i,j,t,s)=1;

parameter Cap(i,j);
Cap(i,j) = 3;



parameter intermediate(f,i,t);

intermediate(f,i,t) = (1- origin(f,i,t))* (1- destination_node(f,i,t));

variable z;

parameter link_to_movement_mapping(i,j,m) /
1   .     2  .    1   1
2   .     1  .    1   1
3   .     4  .    2   1
4   .     3  .    2   1
/;


parameter m_origin(m,t)  origin phase node and starting time/
1        .        1        1
/;

parameter m_destination_node(m,t)  destination phase  ending time /
2       .         120      1
/;

parameter m_intermediate(m,t);
m_intermediate(m,t) = (1- m_origin(m,t))* (1- m_destination_node(m,t));

parameter m_phase_transition_flag(m,mp,t,s);
m_feasible_phase_transition_flag(m,mp,t,s) = 1;

parameter Y(i,j,t,s)  link capacity;
Y(i,j,t,s)=1;

parameter Cap(i,j);
Cap(i,j) = 3;




binary variable w(m,mp,t,s);

binary variables
x(f,i, j, t, s)  selection flight f between i and j from time t to time s;

equations
obj                              define objective function
*obj_LR                              LR objective function
flow_on_node_origin(f,i,t)         origin node flow on node i at time t
flow_on_node_intermediate(f,i,t)   intermediate node flow on node i at time t
flow_on_node_destination(f,i,t)      destination node flow on node i at time t
*link_capacity(i,j,t,s)                    capacity constraint
m_flow_on_node_origin(m,t)         origin node flow on node i at time t
m_flow_on_node_intermediate(m,t)   intermediate node flow on node i at time t
m_flow_on_node_destination(m,t)      destination node flow on node i at time t

link_movement_capacity(i,j,m,t,s,tau)                    capacity constraint
;


obj.. z =e= sum((f,i,j, t,s)$(arcs(i,j,t,s)), cost(i,j,t,s)*x(f,i, j, t, s));
flow_on_node_origin(f,i,t)$(origin(f,i,t)).. sum((j,s)$(arcs(i,j,t,s)), x(f,i,j, t,s)) =e= 1;
flow_on_node_destination(f,i,t)$(destination_node(f,i,t))..  sum((j,s)$(arcs(j,i,s,t)), x(f,j,i,s,t))=e= 1;
flow_on_node_intermediate(f,i,t)$(intermediate(f,i,t)).. sum((j,s)$(arcs(i,j,t,s)), x(f,i, j, t,s))-sum((j,s)$(arcs(j,i,s,t)), x(f,j,i,s,t))=e= 0;

m_flow_on_node_origin(m,t)$(m_origin(m,t)).. sum((j,s)$( m_phase_transition_flag(m,mp,t,s)), w(m,mp, t,s)) =e= 1;
m_flow_on_node_destination(m,t)$(m_destination_node(m,t))..  sum((j,s)$( m_phase_transition_flag(m,mp,t,s)), w(m,mp, t,s))))=e= 1;
m_flow_on_node_intermediate(m,t)$(m_intermediate(m,t)).. sum((j,s)$( m_phase_transition_flag(m,mp,t,s)), w(m,mp, t,s)))-sum((j,s)$ m_phase_transition_flag(m,mp,t,s)), w(m,mp, t,s)))=e= 0;

*link_capacity(i,j,t,s).. sum(f,x(f,i,j,t,s))- Y(i,j,t,s)*Cap(i,j) =l=0;
link_movement_capacity(i,j,m,t,s,t_s,t_e)$(link_to_movement_mapping(i,j,m) and value_t(t) =g=value_t(t_s) and value_t(t) =l=value_t(t_e.) )..  sum(f,x(f,i,j,t,s))- sum(mp,w(m,mp, t_s,t_e)))*Cap(i,j) =l=0;
Model flight_optimization /all/;
solve flight_optimization using MIP minimizing z;

display x.l;


















